<!-- 
	 Author	:	Eslam Ehab Aboutaleb
	 Date	:	12/11/2020
	 version:	v01
-->

<!DOCTYPE html>
<html>
<head>
	<!-- Web page title -->
	<title>Bootloader App </title>
	<!-- include CSS file -->
	<link rel="stylesheet" href="fileRecvStyle.css">
	<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

</head>	
<body>
	<div class="main">
	<div class="hero">
		<nav>
			<div class = "nav-links">
				<ul>
					<li><a href="index.html">Home</a></li>
					<li><a href="https://github.com/eslam-aboutaleb/Car-Diagnostic-Tool/" target="_blank">Source code</a></li>
					<li><a href="Bootloader Commands list.pdf" target="_blank">Bootloader commands list</a></li>
				</ul>
			</div>			
		</nav>
		
		<script>
		swal({
		  title: "Wrong file extension!",
		  text: "Upload only HEX or TXT files!",
		  icon: "warning",
		  dangerMode: true,
		})

		</script>
		
		<label class="UploadLabel">Upload HEX file</label>
		<form class="UploadFile" action="fileHandle.php" method="POST" enctype="multipart/form-data">
			
			<input type="file" name="file" id="real-file" hidden="hiddden"/>
			<button type="button" id="custom-button">Choose file</button>
			<span id="custom-text">No file chosen, yet.</span>
			<button type="submit" name="submit">Upload file<button>
			<script type="text/javascript">
				const REAL_FILE_BTN = document.getElementById("real-file");
				const BUTTON = document.getElementById("custom-button");
				const TXT = document.getElementById("custom-text");
				
				BUTTON.addEventListener("click",function(){
					REAL_FILE_BTN.click();
				});
				
				REAL_FILE_BTN.addEventListener("change",function(){
					if(REAL_FILE_BTN.value){
						TXT.innerHTML = REAL_FILE_BTN.value.match(/[\/\\]([\w\d\s\.\-\(\)]+)$/)[1];
					}
					else
					{
						TXT.innerHTML = "No file chosen, yet."
					}
				});
				
			</script>
		</form>
		
	</div>
	</div>
</body>
</html>